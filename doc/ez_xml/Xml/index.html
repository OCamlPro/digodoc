<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Xml (ez_xml.Xml)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">ez_xml</a> &#x00BB; Xml</nav><h1>Module <code>Xml</code></h1><nav class="toc"><ul><li><a href="#xml-parsing">Xml Parsing</a></li><li><a href="#exc">Xml Exceptions</a></li><li><a href="#xml-functions">Xml Functions</a></li><li><a href="#xml-printing">Xml Printing</a></li></ul></nav></header><aside><p>Xml Light</p><p>Xml Light is a minimal Xml parser &amp; printer for OCaml. It provide few functions to parse a basic Xml document into an OCaml data structure and to print back the data structures to an Xml document.</p><p>Xml Light has also support for <b>DTD</b> (Document Type Definition).</p><p><i>(c)Copyright 2002-2003 Nicolas Cannasse</i></p></aside><section><header><h6 id="xml-parsing"><a href="#xml-parsing" class="anchor"></a>Xml Parsing</h6></header><aside><p>For easily parsing an Xml data source into an xml data structure, you can use theses functions. But if you want advanced parsing usage, please look at the <a href="../XmlParser/index.html"><code>XmlParser</code></a> module. All the parsing functions can raise some exceptions, see the <a href="#exc">Exceptions</a> section for more informations.</p></aside><dl><dt class="spec value" id="val-parse_file"><a href="#val-parse_file" class="anchor"></a><code><span class="keyword">val</span> parse_file : <span>?&#8288;check:bool</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="../Xml_types/index.html#type-xml">Xml_types.xml</a></code></dt><dd><p>Parse the named file into an Xml data structure.</p></dd></dl><dl><dt class="spec value" id="val-parse_in"><a href="#val-parse_in" class="anchor"></a><code><span class="keyword">val</span> parse_in : Stdlib.in_channel <span>&#45;&gt;</span> <a href="../Xml_types/index.html#type-xml">Xml_types.xml</a></code></dt><dd><p>Read the content of the in_channel and parse it into an Xml data structure.</p></dd></dl><dl><dt class="spec value" id="val-parse_string"><a href="#val-parse_string" class="anchor"></a><code><span class="keyword">val</span> parse_string : string <span>&#45;&gt;</span> <a href="../Xml_types/index.html#type-xml">Xml_types.xml</a></code></dt><dd><p>Parse the string containing an Xml document into an Xml data structure.</p></dd></dl></section><section><header><h6 id="exc"><a href="#exc" class="anchor"></a>Xml Exceptions</h6></header><aside><p>Several exceptions can be raised when parsing an Xml document : </p><ul><li><a href="index.html#exception-Error"><code>Xml.Error</code></a> is raised when an xml parsing error occurs. the <a href="index.html#val-error_msg"><code>Xml.error_msg</code></a> tells you which error occured during parsing and the <span class="xref-unresolved" title="unresolved reference to &quot;Xml.error_pos&quot;"><a href="index.html"><code>Xml</code></a>.error_pos</span> can be used to retreive the document location where the error occured at.</li><li><a href="index.html#exception-File_not_found"><code>Xml.File_not_found</code></a> is raised when and error occured while opening a file with the <a href="index.html#val-parse_file"><code>Xml.parse_file</code></a> function or when a DTD file declared by the Xml document is not found <i>(see the <a href="../XmlParser/index.html"><code>XmlParser</code></a> module for more informations on how to handle the DTD file loading)</i>.</li></ul><p>If the Xml document is containing a DTD, then some other exceptions can be raised, see the module <a href="../Dtd/index.html"><code>Dtd</code></a> for more informations.</p></aside><dl><dt class="spec type" id="type-error"><a href="#type-error" class="anchor"></a><code><span class="keyword">type</span> error</code><code> = <a href="../Xml_types/index.html#type-error_msg">Xml_types.error_msg</a> * <a href="../Xml_types/index.html#type-error_pos">Xml_types.error_pos</a></code></dt></dl><dl><dt class="spec exception" id="exception-Error"><a href="#exception-Error" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Error</span> <span class="keyword">of</span> <a href="index.html#type-error">error</a></code></dt><dt class="spec exception" id="exception-File_not_found"><a href="#exception-File_not_found" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">File_not_found</span> <span class="keyword">of</span> string</code></dt></dl><dl><dt class="spec value" id="val-error"><a href="#val-error" class="anchor"></a><code><span class="keyword">val</span> error : <a href="index.html#type-error">error</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Get a full error message from an Xml error.</p></dd></dl><dl><dt class="spec value" id="val-error_msg"><a href="#val-error_msg" class="anchor"></a><code><span class="keyword">val</span> error_msg : <a href="../Xml_types/index.html#type-error_msg">Xml_types.error_msg</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Get the Xml error message as a string.</p></dd></dl><dl><dt class="spec value" id="val-line"><a href="#val-line" class="anchor"></a><code><span class="keyword">val</span> line : <a href="../Xml_types/index.html#type-error_pos">Xml_types.error_pos</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Get the line the error occured at.</p></dd></dl><dl><dt class="spec value" id="val-range"><a href="#val-range" class="anchor"></a><code><span class="keyword">val</span> range : <a href="../Xml_types/index.html#type-error_pos">Xml_types.error_pos</a> <span>&#45;&gt;</span> int * int</code></dt><dd><p>Get the relative character range (in current line) the error occured at.</p></dd></dl><dl><dt class="spec value" id="val-abs_range"><a href="#val-abs_range" class="anchor"></a><code><span class="keyword">val</span> abs_range : <a href="../Xml_types/index.html#type-error_pos">Xml_types.error_pos</a> <span>&#45;&gt;</span> int * int</code></dt><dd><p>Get the absolute character range the error occured at.</p></dd></dl></section><section><header><h6 id="xml-functions"><a href="#xml-functions" class="anchor"></a>Xml Functions</h6></header><dl><dt class="spec exception" id="exception-Not_element"><a href="#exception-Not_element" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Not_element</span> <span class="keyword">of</span> <a href="../Xml_types/index.html#type-xml">Xml_types.xml</a></code></dt><dt class="spec exception" id="exception-Not_pcdata"><a href="#exception-Not_pcdata" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Not_pcdata</span> <span class="keyword">of</span> <a href="../Xml_types/index.html#type-xml">Xml_types.xml</a></code></dt><dt class="spec exception" id="exception-No_attribute"><a href="#exception-No_attribute" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">No_attribute</span> <span class="keyword">of</span> string</code></dt></dl><dl><dt class="spec value" id="val-tag"><a href="#val-tag" class="anchor"></a><code><span class="keyword">val</span> tag : <a href="../Xml_types/index.html#type-xml">Xml_types.xml</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>tag xdata</code> returns the tag value of the xml node. Raise <a href="index.html#exception-Not_element"><code>Xml.Not_element</code></a> if the xml is not an element</p></dd></dl><dl><dt class="spec value" id="val-pcdata"><a href="#val-pcdata" class="anchor"></a><code><span class="keyword">val</span> pcdata : <a href="../Xml_types/index.html#type-xml">Xml_types.xml</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>pcdata xdata</code> returns the PCData value of the xml node. Raise <a href="index.html#exception-Not_pcdata"><code>Xml.Not_pcdata</code></a> if the xml is not a PCData</p></dd></dl><dl><dt class="spec value" id="val-attribs"><a href="#val-attribs" class="anchor"></a><code><span class="keyword">val</span> attribs : <a href="../Xml_types/index.html#type-xml">Xml_types.xml</a> <span>&#45;&gt;</span> <span><span>(string * string)</span> list</span></code></dt><dd><p><code>attribs xdata</code> returns the attribute list of the xml node. First string if the attribute name, second string is attribute value. Raise <a href="index.html#exception-Not_element"><code>Xml.Not_element</code></a> if the xml is not an element</p></dd></dl><dl><dt class="spec value" id="val-attrib"><a href="#val-attrib" class="anchor"></a><code><span class="keyword">val</span> attrib : <a href="../Xml_types/index.html#type-xml">Xml_types.xml</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string</code></dt><dd><p><code>attrib xdata &quot;href&quot;</code> returns the value of the <code>&quot;href&quot;</code> attribute of the xml node (attribute matching is case-insensitive). Raise <a href="index.html#exception-No_attribute"><code>Xml.No_attribute</code></a> if the attribute does not exists in the node's attribute list Raise <a href="index.html#exception-Not_element"><code>Xml.Not_element</code></a> if the xml is not an element</p></dd></dl><dl><dt class="spec value" id="val-children"><a href="#val-children" class="anchor"></a><code><span class="keyword">val</span> children : <a href="../Xml_types/index.html#type-xml">Xml_types.xml</a> <span>&#45;&gt;</span> <span><a href="../Xml_types/index.html#type-xml">Xml_types.xml</a> list</span></code></dt><dd><p><code>children xdata</code> returns the children list of the xml node Raise <a href="index.html#exception-Not_element"><code>Xml.Not_element</code></a> if the xml is not an element</p></dd></dl><dl><dt class="spec value" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span class="keyword">val</span> iter : <span>(<a href="../Xml_types/index.html#type-xml">Xml_types.xml</a> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <a href="../Xml_types/index.html#type-xml">Xml_types.xml</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iter f xdata</code> calls f on all children of the xml node. Raise <a href="index.html#exception-Not_element"><code>Xml.Not_element</code></a> if the xml is not an element</p></dd></dl><dl><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val</span> map : <span>(<a href="../Xml_types/index.html#type-xml">Xml_types.xml</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <a href="../Xml_types/index.html#type-xml">Xml_types.xml</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span></code></dt><dd><p><code>map f xdata</code> is equivalent to <code>List.map f (Xml.children xdata)</code> Raise <a href="index.html#exception-Not_element"><code>Xml.Not_element</code></a> if the xml is not an element</p></dd></dl><dl><dt class="spec value" id="val-fold"><a href="#val-fold" class="anchor"></a><code><span class="keyword">val</span> fold : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="../Xml_types/index.html#type-xml">Xml_types.xml</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="../Xml_types/index.html#type-xml">Xml_types.xml</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>fold f init xdata</code> is equivalent to <code>List.fold_left f init (Xml.children xdata)</code> Raise <a href="index.html#exception-Not_element"><code>Xml.Not_element</code></a> if the xml is not an element</p></dd></dl></section><section><header><h6 id="xml-printing"><a href="#xml-printing" class="anchor"></a>Xml Printing</h6></header><dl><dt class="spec value" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span class="keyword">val</span> to_string : <a href="../Xml_types/index.html#type-xml">Xml_types.xml</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Print the xml data structure into a compact xml string (without any user-readable formating ).</p></dd></dl><dl><dt class="spec value" id="val-to_string_fmt"><a href="#val-to_string_fmt" class="anchor"></a><code><span class="keyword">val</span> to_string_fmt : <a href="../Xml_types/index.html#type-xml">Xml_types.xml</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Print the xml data structure into an user-readable string with tabs and lines break between different nodes.</p></dd></dl></section></div></body></html>